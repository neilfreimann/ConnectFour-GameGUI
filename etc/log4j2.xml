<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN">
	<Appenders>

		<RollingFile name="KBRollingLogFile" 
				fileName="C:/Personal/Dev/Connect4/KnowledgeBase/logs/KBPackage.log"
				filePattern="logs/$${date:yyyy-MM}/KBPackage-%d{yyyy-MM-dd-HH}-%i.log">
    		<PatternLayout>
        		<Pattern>[%d{ISO8601}] %p [%t] (%F:%L) %m%n</Pattern>
      		</PatternLayout>
			<Policies>
        		<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
        		<SizeBasedTriggeringPolicy size="10 MB"/>
      		</Policies>
   		</RollingFile>

		<RollingFile name="ManagersRollingLogFile" 
				fileName="C:/Personal/Dev/Connect4/KnowledgeBase/logs/ManagersPackage.log"
				filePattern="logs/$${date:yyyy-MM}/ManagersPackage-%d{yyyy-MM-dd-HH}-%i.log">
    		<PatternLayout>
        		<Pattern>[%d{ISO8601}] %p [%t] (%F:%L) %m%n</Pattern>
      		</PatternLayout>
			<Policies>
        		<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
        		<SizeBasedTriggeringPolicy size="10 MB"/>
      		</Policies>
   		</RollingFile>

		<RollingFile name="BoardStateThreadsRollingLogFile" 
				fileName="C:/Personal/Dev/Connect4/KnowledgeBase/logs/BoardStateThreadsPackage.log"
				filePattern="logs/$${date:yyyy-MM}/BoardStateThreadsPackage-%d{yyyy-MM-dd-HH}-%i.log">
    		<PatternLayout>
        		<Pattern>[%d{ISO8601}] %p [%t] (%F:%L) %m%n</Pattern>
      		</PatternLayout>
			<Policies>
        		<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
        		<SizeBasedTriggeringPolicy size="10 MB"/>
      		</Policies>
   		</RollingFile>

		<RollingFile name="BoardStateLocksRollingLogFile" 
				fileName="C:/Personal/Dev/Connect4/KnowledgeBase/logs/BoardStateLocksPackage.log"
				filePattern="logs/$${date:yyyy-MM}/BoardStateLocksPackage-%d{yyyy-MM-dd-HH}-%i.log">
    		<PatternLayout>
        		<Pattern>[%d{ISO8601}] %p [%t] (%F:%L) %m%n</Pattern>
      		</PatternLayout>
			<Policies>
        		<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
        		<SizeBasedTriggeringPolicy size="10 MB"/>
      		</Policies>
   		</RollingFile>

		<RollingFile name="BoardStateRollingLogFile" 
				fileName="C:/Personal/Dev/Connect4/KnowledgeBase/logs/BoardStatePackage.log"
				filePattern="logs/$${date:yyyy-MM}/BoardStatePackage-%d{yyyy-MM-dd-HH}-%i.log">
    		<PatternLayout>
        		<Pattern>[%d{ISO8601}] %p [%t] (%F:%L) %m%n</Pattern>
      		</PatternLayout>
			<Policies>
        		<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
        		<SizeBasedTriggeringPolicy size="10 MB"/>
      		</Policies>
   		</RollingFile>

		<RollingFile name="LearningGameThreadsRollingLogFile" 
				fileName="C:/Personal/Dev/Connect4/KnowledgeBase/logs/LearningGameThreadsPackage.log"
				filePattern="logs/$${date:yyyy-MM}/LearningGameThreadsPackage-%d{yyyy-MM-dd-HH}-%i.log">
    		<PatternLayout>
        		<Pattern>[%d{ISO8601}] %p [%t] (%F:%L) %m%n</Pattern>
      		</PatternLayout>
			<Policies>
        		<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
        		<SizeBasedTriggeringPolicy size="10 MB"/>
      		</Policies>
   		</RollingFile>


		<Routing name="Connect4Routing">
			<Routes pattern="$${ctx:LogContext}">             
 				<Route key="$${ctx:LogContext}">
					<RollingFile name="Connect4RollingLogFile-Unknown" 
							fileName="C:/Personal/Dev/Connect4/KnowledgeBase/logs/Connect4-Unknown.log" 
							filePattern="logs/$${date:yyyy-MM}/Connect4-Unknown-%d{yyyy-MM-dd-HH}-%i.log">
			    		<PatternLayout>
			        		<Pattern>[%d{ISO8601}] %p [%t] (%F:%L) %m%n</Pattern>
			      		</PatternLayout>
						<Policies>
			        		<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
			        		<SizeBasedTriggeringPolicy size="10 MB"/>
			      		</Policies>
					</RollingFile>
				</Route>
 				<Route>
					<RollingFile name="Connect4RollingLogFile-${ctx:LogContext}" 
							fileName="C:/Personal/Dev/Connect4/KnowledgeBase/logs/Connect4-${ctx:LogContext}.log" 
							filePattern="logs/$${date:yyyy-MM}/Connect4-${ctx:LogContext}-%d{yyyy-MM-dd-HH}-%i.log">
			    		<PatternLayout>
							<!-- <Pattern>[%d{ISO8601}] %p [%t]:[CONNECT4] at %C.%M(%F:%L):[%X{ClientSessionID}] %m%n</Pattern> -->
    				    		<Pattern>[%d{ISO8601}] %p [%t] (%F:%L) %m%n</Pattern>
				      		</PatternLayout>
						<Policies>
			        		<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
			        		<SizeBasedTriggeringPolicy size="10 MB"/>
			      		</Policies>
					</RollingFile>
				</Route>
			</Routes>
		</Routing> 
   		
		<Console name="Console" target="SYSTEM_OUT">
           <PatternLayout pattern="[%d{ISO8601}] %p [%t]:[CONNECT4] at %C.%M(%F:%L):[%X{ClientSessionID}] %m%n"/>
   		</Console>


    </Appenders>
    <Loggers>
    	<logger name="com.home.neil.ConnectFour.KnowledgeBase" level="info">
        	<!-- <AppenderRef ref="Console"/> -->
        	<AppenderRef ref="KBRollingLogFile"/>
    	</logger>

    	<logger name="com.home.neil.ConnectFour.Managers" level="info">
        	<!-- <AppenderRef ref="Console"/> -->
        	<AppenderRef ref="ManagersRollingLogFile"/>
    	</logger>

    	<logger name="com.home.neil.ConnectFour.BoardState.Threads" level="info">
        	<!-- <AppenderRef ref="Console"/> -->
        	<AppenderRef ref="BoardStateThreadsRollingLogFile"/>
    	</logger>
    	
    	<logger name="com.home.neil.ConnectFour.BoardState.Locks" level="info">
        	<!-- <AppenderRef ref="Console"/> -->
        	<AppenderRef ref="BoardStateLocksRollingLogFile"/>
    	</logger>
    	
    	<logger name="com.home.neil.ConnectFour.BoardState" level="info">
        	<!-- <AppenderRef ref="Console"/> -->
        	<AppenderRef ref="BoardStateRollingLogFile"/>
    	</logger>
    	
    	<logger name="com.home.neil.ConnectFour.LearningGameThreads" level="info">
        	<!-- <AppenderRef ref="Console"/> -->
        	<AppenderRef ref="LearningGameThreadsRollingLogFile"/>
    	</logger>

    	<logger name="com.home.neil.ConnectFour.GUI" level="info">
        	<!-- <AppenderRef ref="Console"/> -->
    	</logger>

    	
    	<logger name="com.home.neil" level="info">
        	<AppenderRef ref="Console"/> 
        	<AppenderRef ref="Connect4Routing"/>
    	</logger>

		<Root level="error">
			<!-- <AppenderRef ref="Console"/> -->
		</Root>
    </Loggers>
</Configuration>